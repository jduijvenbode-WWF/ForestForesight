> # library(ForestForesight)
> code_location <- "C:/Kodingan3/ForestForesight"
> ff_folder <- "C:/Kodingan3/FFdata"
> library("devtools")
> load_all(code_location) # with this we are using the live R code, not the build package of ForestForesight
â„¹ Loading ForestForesight
[1] "helper_config.R has been executed"
TEST_FF_PREP_COUNTRY is GAB> library(sf)
> 
> data("countries")
> proc_dates <- "2024-09-01"
> start_date <- as.Date("2024-09-01")
> end_date <- as.Date("2024-09-04")
> step_size <- "1 day"
> dates <- seq.Date(start_date, end_date, by = step_size)
> countrynames <- countries$iso3
> 
> for (proc_date in proc_dates) {
+   for (x in seq_along(countrynames)) {
+     country <- countrynames[x]
+     if (country == "GAB") {
+       cat(paste("processing", country, "\n"))
+       setwd("C:/Kodingan3/FFdata/storage/predictions/")
+       if (!dir.exists(country)) {
+         dir.create(country)
+       }
+       setwd(country)
+       if (!file.exists(paste0(country, "_", proc_date, ".tif"))) {
+         cat(paste("processing", country, "for", proc_date, "\n"))
+         if (!(country %in% countries$iso3)) { # added this checking
+           message(paste("Country", country, "not found in countries$iso3"))
+           next
+         }
+         shape <- terra::vect(countries[countries$iso3 == country, ])
+         modelname <- countries$group[countries$iso3 == country]
+         modelpath <- file.path(ff_folder, "models", modelname, paste0(modelname, ".model"))
+         # if (!file.exists(modelpath)) {
+         #  stop(paste(modelpath, "model does not exist"))
+         # }
+         tryCatch(
+           {
+             cat("just b4 ff_run")
+             b <- ff_run(
+               shape = shape,
+               prediction_dates = proc_date,
+               ff_folder = ff_folder,
+               verbose = TRUE,
+               # save_path = model_folder
+               trained_model = modelpath
+             )
+             terra::writeRaster(b, paste0(country, "_", proc_date, ".tif"), overwrite = T)
+           },
+           error = function(e) {
+             message("An error occurred: ", e$message)
+           }
+         )
+       } else {
+         cat("cannot run prediction: ", paste0(country, "_", proc_date, ".tif"), " already exists!")
+       }
+     }
+   }
+ }
processing GAB 
processing GAB for 2024-09-01 
just b4 ff_runpre-trained model only includes the following features: aridityannual, ariditydriestquarter, catexcap, cattlesmoothed, closenesstocattleabove10000, closenesstocattleabove2000, closenesstococoa, closenesstocoffee, closenesstocropland, closenesstofiber, closenesstoforestedge, closenesstomennonites, closenesstomining, closenesstooilpalm, closenesstorice, closenesstoroads, closenesstorubber, closenesstosoybean, closenesstowaterways, confidence, croplandcapacity100p, croplandcapacitybelow50p, croplandcapacityover50p, diminishinghotspot, dpicoal, dpiconvgas, dpiconvoil, dpihydro, dpimetallicmining, dpinonmetallicmining, dpiunconvgas, elevation, firealerts, forestedgedensity, forestheight, fwi, historicloss, initialforestcount, initialforestcover, intensifyinghotspot, landpercentage, lastmonth, lastsixmonths, lastthreemonths, losslastyear, mennonitessmoothed, miningsmoothed, month, monthssince2019, newhotspot, nightlights, palmoilmills, patchdensity, peatlands, persistanthotspot, populationcurrent, populationincrease, precipitation, previoussameseason, sinmonth, slope, smoothedsixmonths, smoothedtotal, soybeansmoothed, sporadichotspot, temperature, timesinceloss, totallossalerts, wdpa, wetlands 
searching C:/Kodingan3/FFdata/preprocessed/input for tiles 00N_000E 
loading tile data from 00N_000E for 2024-09-01  with extent 0 10 -10 0 
no groundtruth raster was found, first regular raster selected as a template raster.
filtering features
filtering feature initialforestcover on >0 
loading finished, features: aridityannual, ariditydriestquarter, catexcap, cattlesmoothed, closenesstocattleabove10000, closenesstocattleabove2000, closenesstococoa, closenesstocoffee, closenesstocropland, closenesstofiber, closenesstoforestedge, closenesstomennonites, closenesstomining, closenesstooilpalm, closenesstorice, closenesstoroads, closenesstorubber, closenesstosoybean, closenesstowaterways, confidence, croplandcapacity100p, croplandcapacitybelow50p, croplandcapacityover50p, diminishinghotspot, dpicoal, dpiconvgas, dpiconvoil, dpihydro, dpimetallicmining, dpinonmetallicmining, dpiunconvgas, elevation, firealerts, forestedgedensity, forestheight, fwi, historicloss, initialforestcount, initialforestcover, intensifyinghotspot, landpercentage, lastmonth, lastsixmonths, lastthreemonths, losslastyear, mennonitessmoothed, miningsmoothed, newhotspot, nightlights, palmoilmills, patchdensity, peatlands, persistanthotspot, populationcurrent, populationincrease, precipitation, previoussameseason, slope, smoothedsixmonths, smoothedtotal, soybeansmoothed, sporadichotspot, temperature, timesinceloss, totallossalerts, wdpa, wetlands, sinmonth, month, monthssince2019 
calculating predictions
filling raster
no analysis is done because no groundtruth is available
pre-trained model only includes the following features: aridityannual, ariditydriestquarter, catexcap, cattlesmoothed, closenesstocattleabove10000, closenesstocattleabove2000, closenesstococoa, closenesstocoffee, closenesstocropland, closenesstofiber, closenesstoforestedge, closenesstomennonites, closenesstomining, closenesstooilpalm, closenesstorice, closenesstoroads, closenesstorubber, closenesstosoybean, closenesstowaterways, confidence, croplandcapacity100p, croplandcapacitybelow50p, croplandcapacityover50p, diminishinghotspot, dpicoal, dpiconvgas, dpiconvoil, dpihydro, dpimetallicmining, dpinonmetallicmining, dpiunconvgas, elevation, firealerts, forestedgedensity, forestheight, fwi, historicloss, initialforestcount, initialforestcover, intensifyinghotspot, landpercentage, lastmonth, lastsixmonths, lastthreemonths, losslastyear, mennonitessmoothed, miningsmoothed, month, monthssince2019, newhotspot, nightlights, palmoilmills, patchdensity, peatlands, persistanthotspot, populationcurrent, populationincrease, precipitation, previoussameseason, sinmonth, slope, smoothedsixmonths, smoothedtotal, soybeansmoothed, sporadichotspot, temperature, timesinceloss, totallossalerts, wdpa, wetlands 
searching C:/Kodingan3/FFdata/preprocessed/input for tiles 00N_010E 
loading tile data from 00N_010E for 2024-09-01  with extent 10 20 -10 0 
no groundtruth raster was found, first regular raster selected as a template raster.
filtering features
filtering feature initialforestcover on >0 
loading finished, features: aridityannual, ariditydriestquarter, catexcap, cattlesmoothed, closenesstocattleabove10000, closenesstocattleabove2000, closenesstococoa, closenesstocoffee, closenesstocropland, closenesstofiber, closenesstoforestedge, closenesstomennonites, closenesstomining, closenesstooilpalm, closenesstorice, closenesstoroads, closenesstorubber, closenesstosoybean, closenesstowaterways, confidence, croplandcapacity100p, croplandcapacitybelow50p, croplandcapacityover50p, diminishinghotspot, dpicoal, dpiconvgas, dpiconvoil, dpihydro, dpimetallicmining, dpinonmetallicmining, dpiunconvgas, elevation, firealerts, forestedgedensity, forestheight, fwi, historicloss, initialforestcount, initialforestcover, intensifyinghotspot, landpercentage, lastmonth, lastsixmonths, lastthreemonths, losslastyear, mennonitessmoothed, miningsmoothed, newhotspot, nightlights, palmoilmills, patchdensity, peatlands, persistanthotspot, populationcurrent, populationincrease, precipitation, previoussameseason, slope, smoothedsixmonths, smoothedtotal, soybeansmoothed, sporadichotspot, temperature, timesinceloss, totallossalerts, wdpa, wetlands, sinmonth, month, monthssince2019 
calculating predictions
filling raster
no analysis is done because no groundtruth is available
pre-trained model only includes the following features: aridityannual, ariditydriestquarter, catexcap, cattlesmoothed, closenesstocattleabove10000, closenesstocattleabove2000, closenesstococoa, closenesstocoffee, closenesstocropland, closenesstofiber, closenesstoforestedge, closenesstomennonites, closenesstomining, closenesstooilpalm, closenesstorice, closenesstoroads, closenesstorubber, closenesstosoybean, closenesstowaterways, confidence, croplandcapacity100p, croplandcapacitybelow50p, croplandcapacityover50p, diminishinghotspot, dpicoal, dpiconvgas, dpiconvoil, dpihydro, dpimetallicmining, dpinonmetallicmining, dpiunconvgas, elevation, firealerts, forestedgedensity, forestheight, fwi, historicloss, initialforestcount, initialforestcover, intensifyinghotspot, landpercentage, lastmonth, lastsixmonths, lastthreemonths, losslastyear, mennonitessmoothed, miningsmoothed, month, monthssince2019, newhotspot, nightlights, palmoilmills, patchdensity, peatlands, persistanthotspot, populationcurrent, populationincrease, precipitation, previoussameseason, sinmonth, slope, smoothedsixmonths, smoothedtotal, soybeansmoothed, sporadichotspot, temperature, timesinceloss, totallossalerts, wdpa, wetlands 
searching C:/Kodingan3/FFdata/preprocessed/input for tiles 10N_000E 
loading tile data from 10N_000E for 2024-09-01  with extent 0 10 0 10 
no groundtruth raster was found, first regular raster selected as a template raster.
filtering features
filtering feature initialforestcover on >0 
loading finished, features: aridityannual, ariditydriestquarter, catexcap, cattlesmoothed, closenesstocattleabove10000, closenesstocattleabove2000, closenesstococoa, closenesstocoffee, closenesstocropland, closenesstofiber, closenesstoforestedge, closenesstomennonites, closenesstomining, closenesstooilpalm, closenesstorice, closenesstoroads, closenesstorubber, closenesstosoybean, closenesstowaterways, confidence, croplandcapacity100p, croplandcapacitybelow50p, croplandcapacityover50p, diminishinghotspot, dpicoal, dpiconvgas, dpiconvoil, dpihydro, dpimetallicmining, dpinonmetallicmining, dpiunconvgas, elevation, firealerts, forestedgedensity, forestheight, fwi, historicloss, initialforestcount, initialforestcover, intensifyinghotspot, landpercentage, lastmonth, lastsixmonths, lastthreemonths, losslastyear, mennonitessmoothed, miningsmoothed, newhotspot, nightlights, palmoilmills, patchdensity, peatlands, persistanthotspot, populationcurrent, populationincrease, precipitation, previoussameseason, slope, smoothedsixmonths, smoothedtotal, soybeansmoothed, sporadichotspot, temperature, timesinceloss, totallossalerts, wdpa, wetlands, sinmonth, month, monthssince2019 
calculating predictions
filling raster
no analysis is done because no groundtruth is available
pre-trained model only includes the following features: aridityannual, ariditydriestquarter, catexcap, cattlesmoothed, closenesstocattleabove10000, closenesstocattleabove2000, closenesstococoa, closenesstocoffee, closenesstocropland, closenesstofiber, closenesstoforestedge, closenesstomennonites, closenesstomining, closenesstooilpalm, closenesstorice, closenesstoroads, closenesstorubber, closenesstosoybean, closenesstowaterways, confidence, croplandcapacity100p, croplandcapacitybelow50p, croplandcapacityover50p, diminishinghotspot, dpicoal, dpiconvgas, dpiconvoil, dpihydro, dpimetallicmining, dpinonmetallicmining, dpiunconvgas, elevation, firealerts, forestedgedensity, forestheight, fwi, historicloss, initialforestcount, initialforestcover, intensifyinghotspot, landpercentage, lastmonth, lastsixmonths, lastthreemonths, losslastyear, mennonitessmoothed, miningsmoothed, month, monthssince2019, newhotspot, nightlights, palmoilmills, patchdensity, peatlands, persistanthotspot, populationcurrent, populationincrease, precipitation, previoussameseason, sinmonth, slope, smoothedsixmonths, smoothedtotal, soybeansmoothed, sporadichotspot, temperature, timesinceloss, totallossalerts, wdpa, wetlands 
searching C:/Kodingan3/FFdata/preprocessed/input for tiles 10N_010E 
loading tile data from 10N_010E for 2024-09-01  with extent 10 20 0 10 
no groundtruth raster was found, first regular raster selected as a template raster.
filtering features
filtering feature initialforestcover on >0 
loading finished, features: aridityannual, ariditydriestquarter, catexcap, cattlesmoothed, closenesstocattleabove10000, closenesstocattleabove2000, closenesstococoa, closenesstocoffee, closenesstocropland, closenesstofiber, closenesstoforestedge, closenesstomennonites, closenesstomining, closenesstooilpalm, closenesstorice, closenesstoroads, closenesstorubber, closenesstosoybean, closenesstowaterways, confidence, croplandcapacity100p, croplandcapacitybelow50p, croplandcapacityover50p, diminishinghotspot, dpicoal, dpiconvgas, dpiconvoil, dpihydro, dpimetallicmining, dpinonmetallicmining, dpiunconvgas, elevation, firealerts, forestedgedensity, forestheight, fwi, historicloss, initialforestcount, initialforestcover, intensifyinghotspot, landpercentage, lastmonth, lastsixmonths, lastthreemonths, losslastyear, mennonitessmoothed, miningsmoothed, newhotspot, nightlights, palmoilmills, patchdensity, peatlands, persistanthotspot, populationcurrent, populationincrease, precipitation, previoussameseason, slope, smoothedsixmonths, smoothedtotal, soybeansmoothed, sporadichotspot, temperature, timesinceloss, totallossalerts, wdpa, wetlands, sinmonth, month, monthssince2019 
calculating predictions
filling raster
no analysis is done because no groundtruth is available
Warning messages:
1: In (function (datafolder = NA, country = NA, shape = NA, tiles = NULL,  :
  no groundtruth rasters found
2: In (function (datafolder = NA, country = NA, shape = NA, tiles = NULL,  :
  no groundtruth rasters found
3: In (function (datafolder = NA, country = NA, shape = NA, tiles = NULL,  :
  no groundtruth rasters found
4: In (function (datafolder = NA, country = NA, shape = NA, tiles = NULL,  :
  no groundtruth rasters found
> 